<div class="container mx-auto mt-10 px-5 md:px-0">
  <!-- Bordure haut -->
  <div class="h-[2px] w-full bg-gradient-to-r from-tertiary-700 to-primary-500 rounded-t-md"></div>

  <!-- Contenu principal -->
  <div class="flex flex-col gap-5 p-5 bg-surface-0 rounded-none">
    <section class="flex flex-row gap-4 justify-between">
      <div class="flex flex-row items-center gap-1">
        <h2 class="font-semibold text-md text-lg">
          {{ law().title }}
        </h2>
      </div>

      <div class="flex flex-row gap-4">
        <div class="flex flex-row items-center gap-1">
          <i class="pi pi-megaphone text-primary-500"></i>
          <div class="flex flex-row items-center">
            <span>{{ law().accountability }}</span>
            <span>/</span>
            <span>4</span>
          </div>
        </div>

        <div class="flex flex-row items-center gap-1">
          @if (law().adopted) {
          <div class="flex flex-row items-center gap-1 border border-green-500 rounded-full px-3 py-1">
            <i class="pi pi-check text-green-500"></i>
            <span class="text-sm font-medium">Adopté</span>
          </div>
          }
          @else {
          <div class="flex flex-row items-center gap-1 border border-red-500 rounded-full px-3 py-1">
            <i class="pi pi-times text-red-500"></i>
            <span class="text-sm font-medium">Refusé</span>
          </div>
          }
        </div>
      </div>
    </section>

    <section class="flex flex-col">
      <p class="text-black">
        {{ law().resume }}
      </p>

      <p-tabs [value]="0">
        <p-tablist>
          <p-tab [value]="0" class=" hover:text-tertiary-700 hover:border-tertiary-700 ease-linear">Résumé</p-tab>
          <p-tab [value]="1" class=" hover:text-tertiary-700 hover:border-tertiary-700 ease-linear">Vote</p-tab>
          <p-tab [value]="2" class=" hover:text-tertiary-700 hover:border-tertiary-700 ease-linear">Redevabilité</p-tab>
        </p-tablist>

        <p-tabpanels>
          <p-tabpanel [value]="0">
            <p class="text-black">
              {{ law().content }}
            </p>
          </p-tabpanel>
          <p-tabpanel [value]="1">test</p-tabpanel>
          <p-tabpanel [value]="2">test</p-tabpanel>
        </p-tabpanels>
      </p-tabs>
    </section>

    <section class="flex flex-row gap-4 items-center justify-between">
      <div class="text-black text-sm flex items-center gap-1">
        <i class="pi pi-calendar"></i>
        <span>{{ law().createdAt | date: 'dd/MM/yyyy' }}</span>
      </div>

      <div class="flex gap-2 sm:gap-3">
        <img *ngFor="let icon of icons" [src]="icon.src" [alt]="icon.alt"
          class="w-6 h-6 cursor-pointer hover:scale-110 transition-transform duration-200" />
      </div>
    </section>

    <!--Emojis-->
    <section class="mt-10 flex flex-col gap-3">
      <div *ngFor="let icon of icons" class="flex gap-3">
        <img  [src]="icon.src" [alt]="icon.alt"
          class="w-6 h-6 cursor-pointer hover:scale-110 transition-transform duration-200" />
          <div class="w-full md:w-[80%] rounded-xl p-[2px] bg-gradient-to-r from-tertiary-700 to-primary-500">
            <p-progressbar [value]="icon.value"
              class="rounded-md [&_.p-progressbar]:bg-white [&_.p-progressbar-value]:bg-gradient-to-r [&_.p-progressbar-value]:from-tertiary-700 [&_.p-progressbar-value]:to-primary-500">
            </p-progressbar>    
          </div>
      </div>
    </section>
  </div>

  <!-- Bordure bas -->
  <div class="h-[2px] w-full bg-gradient-to-r from-tertiary-700 to-primary-500 rounded-b-md mb-20"></div>
</div>